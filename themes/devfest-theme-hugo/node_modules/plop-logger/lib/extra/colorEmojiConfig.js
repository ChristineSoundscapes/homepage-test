"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const ansi_colors_1 = tslib_1.__importDefault(require("ansi-colors"));
const LoggerConfig_1 = require("../core/LoggerConfig");
const LoggerLevel_1 = require("../core/LoggerLevel");
class NodeEmojiAppender extends LoggerConfig_1.ConsoleAppender {
    constructor(console) {
        super(console);
    }
    formatLevel(level) {
        switch (level) {
            case LoggerLevel_1.LogLevel.Trace:
                return "üêæ";
            case LoggerLevel_1.LogLevel.Debug:
                return "üêõ";
            case LoggerLevel_1.LogLevel.Info:
                return "‚ÑπÔ∏è ";
            case LoggerLevel_1.LogLevel.Warn:
                return "‚ö†Ô∏è ";
            case LoggerLevel_1.LogLevel.Error:
                return "üí•";
            default:
                return LoggerLevel_1.LogLevel[level];
        }
    }
    formatDate(now) {
        return [
            now
                .getMinutes()
                .toString()
                .padStart(2, "0"),
            ":",
            now
                .getSeconds()
                .toString()
                .padStart(2, "0"),
            ".",
            now
                .getMilliseconds()
                .toString()
                .padStart(3, "0")
        ].join("");
    }
    formatName(name) {
        return ansi_colors_1.default.magenta(name);
    }
    formatArg(arg) {
        if (arg === null)
            return "<null>";
        let value;
        if (typeof arg === "function") {
            value = arg.apply(null);
        }
        else if (typeof arg === "object") {
            try {
                value = JSON.stringify(arg);
            }
            catch (e) {
                value = arg.toString();
            }
        }
        else {
            value = `${arg}`;
        }
        return ansi_colors_1.default.cyan(value);
    }
    formatDump(obj) {
        let value;
        try {
            value = JSON.stringify(obj);
        }
        catch (e) {
            value = obj.toString();
        }
        return ["üóë ", ansi_colors_1.default.yellow(value)];
    }
}
exports.NodeEmojiAppender = NodeEmojiAppender;
exports.colorEmojiConfig = Object.assign(Object.assign({}, LoggerConfig_1.defaultConfig), { appender: new NodeEmojiAppender(global.console) });
